<!DOCTYPE html>
<html lang="zh-cn">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='go!'><title>Web 容器安全</title>

<link rel='canonical' href='https://coollllllll.github.io/p/web/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='Web 容器安全'>
<meta property='og:description' content='go!'>
<meta property='og:url' content='https://coollllllll.github.io/p/web/'>
<meta property='og:site_name' content='cOOl &#39;s blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2020-10-09T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2020-10-09T00:00:00&#43;00:00'/><meta property='og:image' content='https://coollllllll.github.io/p/web/pawel-czerwinski-8uZPynIu-rQ-unsplash.jpg' />
<meta name="twitter:title" content="Web 容器安全">
<meta name="twitter:description" content="go!"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://coollllllll.github.io/p/web/pawel-czerwinski-8uZPynIu-rQ-unsplash.jpg' />
    </head>
    <body class="
    article-page has-toc
">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/web/">
                <img src="/p/web/pawel-czerwinski-8uZPynIu-rQ-unsplash_hud7e36f7e20e71be184458283bdae4646_55974_800x0_resize_q75_box.jpg"
                        srcset="/p/web/pawel-czerwinski-8uZPynIu-rQ-unsplash_hud7e36f7e20e71be184458283bdae4646_55974_800x0_resize_q75_box.jpg 800w, /p/web/pawel-czerwinski-8uZPynIu-rQ-unsplash_hud7e36f7e20e71be184458283bdae4646_55974_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="534" 
                        loading="lazy"
                        alt="Featured image of post 同源策略" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%B8%B8%E7%94%A8/" style="background-color: #2a9d8f; color: #fff;">
                常用
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/web/">Web 容器安全</a>
    </h2>

    
    <h3 class="article-subtitle">
        go!
    </h3>
    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 09, 2020</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 9 分钟
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <h1 id="同源策略">同源策略</h1>
<h2 id="同源定义">同源定义</h2>
<p>要素：协议、域名、端口</p>
<p>如果两个url的协议、域名和端口相同，那么这两个url同源，否则不同源。</p>
<blockquote>
<p>示例：</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>是否同源</th>
<th>原因</th>
</tr>
</thead>
<tbody>
<tr>
<td><a class="link" href="http://test.com/haha/1.html"  target="_blank" rel="noopener"
    >http://test.com/haha/1.html</a></td>
<td>参照</td>
<td></td>
</tr>
<tr>
<td><a class="link" href="https://test.com/2.html"  target="_blank" rel="noopener"
    >https://test.com/2.html</a></td>
<td>不同源</td>
<td>协议不同</td>
</tr>
<tr>
<td><a class="link" href="http://test.com:8000/haha/3.html"  target="_blank" rel="noopener"
    >http://test.com:8000/haha/3.html</a></td>
<td>不同源</td>
<td>端口不同</td>
</tr>
<tr>
<td><a class="link" href="http://testtest.com/haha/4.html"  target="_blank" rel="noopener"
    >http://testtest.com/haha/4.html</a></td>
<td>不同源</td>
<td>主机不同</td>
</tr>
<tr>
<td><a class="link" href="http://test.com/xixi/5.html"  target="_blank" rel="noopener"
    >http://test.com/xixi/5.html</a></td>
<td>同源</td>
<td></td>
</tr>
<tr>
<td><a class="link" href="http://test.com/haha/6.html"  target="_blank" rel="noopener"
    >http://test.com/haha/6.html</a></td>
<td>同源</td>
<td></td>
</tr>
</tbody>
</table>
<p>注：域名和ip即使对应，也算不同源</p>
</blockquote>
<h2 id="同源策略-1">同源策略</h2>
<p>同源策略（Same Origin Policy）是一种约定，它是浏览器最核心也最基本的安全功能。它限制来自一个源的文档如何与不同源的资源进行交互。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 276; 
			flex-basis: 663px"
	>
	<a href="/p/web/image-20220123102025225.png" data-size="520x188">
		<img src="/p/web/image-20220123102025225.png"
			width="520"
			height="188"
			srcset="/p/web/image-20220123102025225_huf308d42c9d3fe642253c121ac9fa63c3_45210_480x0_resize_box_3.png 480w, /p/web/image-20220123102025225_huf308d42c9d3fe642253c121ac9fa63c3_45210_1024x0_resize_box_3.png 1024w"
			loading="lazy"
			>
	</a>
	
</figure></p>
<p>同源策略的目的就是防止恶意网站窃取数据。假如用户访问A网站，登录之后Cookie产生，随即访问B网站，如果没有同源策略限制，B网站的资源则可以读取A网站的Cookie，危害产生。</p>
<h2 id="限制范围">限制范围</h2>
<p>受策略限制的非同源行为：</p>
<ul>
<li>Cookie、localStorage和IndexedDB无法读取</li>
<li>DOM无法获得</li>
<li>AJAX请求可发送但是客户端接收不到返回信息</li>
</ul>
<blockquote>
<p>同源策略允许跨域写(发出请求)，不允许跨域读(接收响应)</p>
</blockquote>
<h2 id="跨域实现">跨域实现</h2>
<h3 id="src属性的标签">src属性的标签</h3>
<p>在浏览器中，<code>&lt;script&gt;、&lt;img&gt;、&lt;iframe&gt;、&lt;link&gt;</code>等标签都可以跨域加载资源，而不受同源策略的限制。这些带<code>src</code>属性的标签每次加载时，实际上是由浏览器发起了一次 GET 请求。</p>
<blockquote>
<p>注意：为了安全起见，浏览器不允许对以这种方式加载到的资源进行读写操作，而只能使用标签本身应当具备的能力(比如脚本执行、样式应用等等)。</p>
</blockquote>
<h3 id="cors跨域资源共享">CORS(跨域资源共享)</h3>
<p>CORS允许浏览器向跨源服务器发出XMLHttpRequest请求，并且接收响应，克服了AJAX只能同源使用的限制。</p>
<p>当发出XMLHttpRequest请求时，浏览器会自动在HTTP请求头中加入Origin字段，服务端识别该字段并判断此&quot;源(origin)&ldquo;是否是合法的，如果合法则允许跨域资源访问。</p>
<p>示例：</p>
<ul>
<li><a class="link" href="http://www.a.com/test.html"  target="_blank" rel="noopener"
    >http://www.a.com/test.html</a> 网站发起跨域的 ⅩMLHttpRequest 请求，请求地址为http://www.b.com/test.php。</li>
<li>请求头中加入Origin：</li>
</ul>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 583; 
			flex-basis: 1400px"
	>
	<a href="/p/web/image-20220123111441722.png" data-size="210x36">
		<img src="/p/web/image-20220123111441722.png"
			width="210"
			height="36"
			srcset="/p/web/image-20220123111441722_hu4816ddc66c938520b621acfe1b0cc924_5441_480x0_resize_box_3.png 480w, /p/web/image-20220123111441722_hu4816ddc66c938520b621acfe1b0cc924_5441_1024x0_resize_box_3.png 1024w"
			loading="lazy"
			>
	</a>
	
</figure></p>
<ul>
<li>服务端校验该Origin Header(Origin Header 可以用于防范 CSRF，它不像 Referer 那么容易被伪造或清空)，并设置响应头<code>Access-Control-Allow-Origin: *</code>，返回该响应。</li>
<li><code>Access-Control-Allow-Origin: *</code>意味着信任任何源的跨域请求(极其危险)，浏览器接收到该响应，认为允许跨域，便不做拦截，客户端的跨域请求通过。</li>
</ul>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 330; 
			flex-basis: 792px"
	>
	<a href="/p/web/image-20220123111957396.png" data-size="538x163">
		<img src="/p/web/image-20220123111957396.png"
			width="538"
			height="163"
			srcset="/p/web/image-20220123111957396_huaf4dfc618ae968474be717f863a72364_20101_480x0_resize_box_3.png 480w, /p/web/image-20220123111957396_huaf4dfc618ae968474be717f863a72364_20101_1024x0_resize_box_3.png 1024w"
			loading="lazy"
			>
	</a>
	
</figure></p>
<h3 id="jsonp跨域">JSONP跨域</h3>
<p>JSONP原理：</p>
<p><code>&lt;script&gt;</code>是可跨域的，而且在跨域脚本中可以通过传参直接回调当前客户端脚本定义的函数。</p>
<p>例如Google的AJAX搜索接口：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
   <span class="c1">//添加&lt;script&gt;标签的方法
</span><span class="c1"></span>   <span class="kd">function</span> <span class="nx">addScriptTag</span><span class="p">(</span><span class="nx">src</span><span class="p">){</span>
       <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
       <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;type&#34;</span><span class="p">,</span><span class="s2">&#34;text/javascript&#34;</span><span class="p">);</span>
       <span class="nx">script</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">src</span><span class="p">;</span>
       <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
   <span class="p">}</span>
   
   <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
       <span class="c1">//搜索apple，将自定义的回调函数名result传入callback参数中
</span><span class="c1"></span>       <span class="nx">addScriptTag</span><span class="p">(</span><span class="s2">&#34;http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=apple&amp;callback=result&#34;</span><span class="p">);</span>
       
   <span class="p">}</span>
   <span class="c1">//自定义的回调函数result
</span><span class="c1"></span>   <span class="kd">function</span> <span class="nx">result</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">//弹出&#39;apple搜&#39;索结果的第一条记录中url数据
</span><span class="c1"></span>       <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">responseData</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">unescapedUrl</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div><h3 id="设置documentdomain">设置document.domain</h3>
<p>原理：</p>
<p>让<strong>两个不同的子域</strong>通过设置document.domain为同一个父域，借助iframe标签，实现两个子域的交互。</p>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">// http://a.test.com/a.html：加载窗口，设置父域

<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;iframe&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;http://b.test.com/b.html&#34;</span> <span class="na">onload </span><span class="o">=</span> <span class="s">&#34;haha()&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">domain</span> <span class="o">=</span> <span class="s1">&#39;test.com&#39;</span><span class="p">;</span> <span class="c1">//设置父域
</span><span class="c1"></span>    <span class="kd">function</span> <span class="nx">haha</span><span class="p">(){</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;￼iframe&#39;</span><span class="p">).</span><span class="nx">contentWindow</span><span class="p">);</span>
        <span class="c1">//contentWindows属性返回子窗口的 window 对象，以此获取内部的DOM
</span><span class="c1"></span>    <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">// http://b.test.com/b.html：设置父域

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">domain</span> <span class="o">=</span> <span class="s1">&#39;test.com&#39;</span><span class="p">;</span>
    <span class="c1">//当iframe加载这个页面时，也设置document.domain，使之与主页面的document.domain相同
</span><span class="c1"></span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div><h3 id="windowpostmesage方法">window.postMesage方法</h3>
<p>HTML5新增了postMessage方法：</p>
<p><code>postMessage</code>：otherWindow.postMessage(message, targetOrigin);</p>
<ul>
<li>otherWindow：指目标窗口，即向哪个window发送消息，可以是window.frames 属性的成员或者由 window.open 方法创建的窗口</li>
<li>message：是要发送的消息，类型为 String、Object</li>
<li>targetOrigin：是限定消息接收范围，不限制请使用 <code>*</code></li>
</ul>
<p>跨域原理：</p>
<p>iframe标签加载目标域内容，加载时通过postMesage传送消息，在目标域中通过监听message时间来获取消息。</p>
<blockquote>
<p>可跨主域、双向跨域</p>
</blockquote>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">// test.com/test.html：加载窗口并发送消息

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
    <span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;proxy&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;http://target.com/remote.html&#34;</span> <span class="na">onload </span><span class="o">=</span> <span class="s">&#34;postMsg()&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;display: none&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>  
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>  
        <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>  
            <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;hahaha!&#39;</span>  
        <span class="p">}</span>  
        <span class="kd">function</span> <span class="nx">postMsg</span> <span class="p">(){</span>  
            <span class="kd">var</span> <span class="nx">iframe</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;proxy&#39;</span><span class="p">);</span>  
            <span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">iframe</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">;</span>  
            <span class="nx">win</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="s1">&#39;http://target.com&#39;</span><span class="p">);</span>  
        <span class="p">}</span>  
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">// http://target.com/remote.html：监听事件，获取消息

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">origin</span> <span class="o">!==</span> <span class="s1">&#39;http://localhost:8088&#39;</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">msg</span><span class="o">+</span><span class="s2">&#34; from &#34;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">origin</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></pre></div><h2 id="cors-与-csrf异同">CORS 与 CSRF异同</h2>
<p><strong>相同点：</strong></p>
<ul>
<li>都需要借助第三方网站</li>
<li>都需要借助 AJAX 的异步过程</li>
<li>一般都需要用户登录</li>
</ul>
<p><strong>不同点：</strong></p>
<ul>
<li>第三方网站可以利用 CORS 漏洞读取到受害者的敏感信息</li>
<li>第三方网站可以利用 CSRF 漏洞可以让受害者执行一些敏感操作</li>
<li>一般有 CORS 漏洞的地方也会有 CSRF 漏洞</li>
</ul>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">相关文章</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/p/csrf/">
        
        
            <div class="article-image">
                <img src="/p/csrf/_hud7e36f7e20e71be184458283bdae4646_55974_23a5d351d2fc2374f952239b6e9c423a.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post CSRF 相关"
                        data-key="csrf" 
                        data-hash="md5-xRTZFpFxc6SKQuARS0aZYQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">CSRF 相关</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/p/mssql/">
        
        
            <div class="article-image">
                <img src="/p/mssql/_hud7e36f7e20e71be184458283bdae4646_55974_23a5d351d2fc2374f952239b6e9c423a.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post MSSQL 注入与提权相关"
                        data-key="mssql" 
                        data-hash="md5-xRTZFpFxc6SKQuARS0aZYQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MSSQL 注入与提权相关</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/p/mysql-1/">
        
        
            <div class="article-image">
                <img src="/p/mysql-1/_hud7e36f7e20e71be184458283bdae4646_55974_23a5d351d2fc2374f952239b6e9c423a.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post MySQL 提权"
                        data-key="mysql-1" 
                        data-hash="md5-xRTZFpFxc6SKQuARS0aZYQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MySQL 提权</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/p/mysql-2/">
        
        
            <div class="article-image">
                <img src="/p/mysql-2/_hud7e36f7e20e71be184458283bdae4646_55974_23a5d351d2fc2374f952239b6e9c423a.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post MySQL 注入写 shell"
                        data-key="mysql-2" 
                        data-hash="md5-xRTZFpFxc6SKQuARS0aZYQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MySQL 注入写 shell</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/p/php-2/">
        
        
            <div class="article-image">
                <img src="/p/php-2/_hud7e36f7e20e71be184458283bdae4646_55974_23a5d351d2fc2374f952239b6e9c423a.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post PHP 反序列化-2"
                        data-key="php-2" 
                        data-hash="md5-xRTZFpFxc6SKQuARS0aZYQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">PHP 反序列化-2</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 cOOl &#39;s blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.5.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">目录</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ol>
    <li><a href="#同源定义">同源定义</a></li>
    <li><a href="#同源策略-1">同源策略</a></li>
    <li><a href="#限制范围">限制范围</a></li>
    <li><a href="#跨域实现">跨域实现</a>
      <ol>
        <li><a href="#src属性的标签">src属性的标签</a></li>
        <li><a href="#cors跨域资源共享">CORS(跨域资源共享)</a></li>
        <li><a href="#jsonp跨域">JSONP跨域</a></li>
        <li><a href="#设置documentdomain">设置document.domain</a></li>
        <li><a href="#windowpostmesage方法">window.postMesage方法</a></li>
      </ol>
    </li>
    <li><a href="#cors-与-csrf异同">CORS 与 CSRF异同</a></li>
  </ol>
</nav>
                </div>
            </section>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
